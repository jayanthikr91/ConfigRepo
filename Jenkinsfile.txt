node{

stage('checkout')

{
checkout scm;
def prop=readProperties  file: 'propertiesfile.txt'
echo "${prop}"
def giturl=prop.GIT_URL
echo "giturl=${giturl}"
git "${giturl}"

}

stage ('build'){

sh 'mvn clean package'

}
stage('code analysis'){
    sh 'mvn sonar:sonar -Dsonar.host.url=http://3.82.1.5:9000/ -Dsonar.verbose=true'
}

stage('deploy'){
sh 'cp /var/lib/jenkins/workspace/PipelineDemo/target/Helloworld.war /var/lib/tomcat8/webapps/'
}

}
