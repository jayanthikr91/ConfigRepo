node{

stage('checkout')

{
checkout scm;
def prop=readProperties  file: 'propertiesfile'
echo '${prop}'
def giturl=prop.GIT_URL
echo 'giturl=${giturl}'
git '${giturl}'

}

stage ('build'){

sh 'mvn clean install -Dv=${BUILD_NUMBER}'

}

stage('code analysis'){
    sh 'mvn sonar:sonar -Dsonar.host.url=http://ec2-18-212-155-18.compute-1.amazonaws.com:9000/ -Dsonar.verbose=true'
}


}
